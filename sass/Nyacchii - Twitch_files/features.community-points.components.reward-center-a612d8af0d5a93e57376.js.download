(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"1/wt":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Error="error",e.Info="info",e.Success="success",e.Warning="warning"}(i||(i={}))},"2cBX":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),r=n.n(i),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("vCsY"),l=n("hnjF"),u=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(l.g,r()({},Object(c.a)(this.props),{overflow:l.i.Auto,padding:this.props.padding,flexGrow:1}),s.createElement("div",{id:this.props.popoverId+"-body"},this.props.children))},t}(s.Component);u.displayName="PopoverBody",u.defaultProps={padding:1}},"5Z5u":function(e,t,n){"use strict";var i,r=n("q1tI"),a=n("fvjX"),o=n("yR8l"),s=n("wUQP"),c=n("YV90"),l=n("BdUW"),u=n("nAiT"),d=n("4wKg"),m=n("C7sF"),p=n("sUnt"),h=n("hnjF"),f=n("OvMb");!function(e){e.RequestsCount="requests-count"}(i||(i={}));var b=Object(a.d)(Object(c.a)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}})),Object(o.a)(f,{options:function(e){return{skip:!e.isChannelPointsEnabled,variables:{channelLogin:e.channelLogin}}}}))((function(e){if(!e.isChannelPointsEnabled||!Object(s.c)("copo_full_launch"))return null;var t=e.data&&e.data.user&&e.data.user.channel&&e.data.user.channel.communityPointsSettings&&e.data.user.channel.communityPointsSettings.summarizedRewards,n="";if(t){var a=t.reduce((function(e,t){return e+t.count}),0),o=t.some((function(e){return e.isCountAtMaximum}));a>99?n="99+":a&&(n=a+(o?"+":""))}return r.createElement(d.a,{actionIcon:m.a.Popout,onClick:function(){Object(l.a)(e.uiContext,e.channelLogin,e.channelID||void 0)},targetBlank:!0,value:n},r.createElement(p.a,{alignItems:h.b.Center,display:h.d.Flex,justifyContent:h.h.Between},r.createElement(p.a,null,Object(u.f)()),n&&r.createElement(p.a,{margin:{left:1},"data-test-selector":i.RequestsCount},n)))}));n.d(t,"a",(function(){return b}))},"79s7":function(e,t,n){"use strict";var i=n("q1tI"),r=n("8/mp"),a=n("2cBX"),o=n("sUnt"),s=n("hnjF"),c=(n("a10Q"),function(e){return i.createElement(r.b,{suppressScrollX:!0},i.createElement(a.a,{popoverId:"channel-points-reward-center",padding:1},i.createElement(o.a,{display:s.d.Flex,flexDirection:s.e.Column,className:"reward-center-body"},e.children)))});n.d(t,"a",(function(){return c}))},"8APF":function(e,t,n){},"9VJY":function(e,t,n){},AaQW:function(e,t,n){},FM5L:function(e,t,n){},GsKU:function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),c=n("7d/q"),l=n("uKd/"),u=n("hnjF"),d=n("X2PJ"),m=n("sUnt"),p=n("Ws8v"),h=n("dEDE"),f=function(e){return a.createElement(m.a,{display:u.d.Flex,justifyContent:u.h.Start,flexDirection:u.e.RowReverse},a.createElement("div",null,a.createElement(h.a,r()({size:h.b.Small,type:e.primaryButton.type||h.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(m.a,{margin:{right:1}},a.createElement(h.a,r()({size:h.b.Small,type:e.secondaryButton.type||h.d.Secondary},e.secondaryButton))))};f.displayName="NotificationActions",f.displayName="NotificationActions";var b,E=n("HH5h"),y=n("IbuL"),g=n("C7sF"),v=n("1/wt"),C=(n("n4RV"),(b={})[v.a.Error]=g.a.NotificationError,b[v.a.Info]=g.a.NotificationInfo,b[v.a.Success]=g.a.NotificationSuccess,b[v.a.Warning]=g.a.NotificationWarning,b),k=function(e){return a.createElement(m.a,{display:u.d.Flex,alignItems:u.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?a.createElement(E.a,r()({size:30},e.avatar)):a.createElement(y.a,{asset:C[e.type]}))};k.displayName="NotificationFigure",k.displayName="NotificationFigure";var w=n("Jsra"),S=n("+80q"),O=function(e){return a.createElement(m.a,{display:u.d.Flex,flexDirection:e.inline?u.e.Row:u.e.Column,alignItems:e.inline?u.b.Baseline:void 0},a.createElement(m.a,{margin:{right:e.inline?.5:0}},a.createElement(S.a,{fontSize:d.d.Size5,fontWeight:d.e.SemiBold},e.title)),e.description&&a.createElement(m.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},a.createElement(S.a,{color:d.c.Alt},e.description)),e.link&&a.createElement(m.a,{margin:{bottom:e.inline?void 0:.5}},a.createElement(w.a,e.link)))};O.displayName="NotificationMessage",O.displayName="NotificationMessage";n("maHM");n.d(t,"a",(function(){return j}));var j=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return a.createElement(p.a,r()({},Object(s.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:d.b.Medium,color:d.c.Base,position:u.j.Relative}),a.createElement(p.a,{borderRadius:d.b.Medium,background:e.background},a.createElement(m.a,{display:u.d.Flex},a.createElement(m.a,{display:u.d.Flex,fullWidth:!0},a.createElement(m.a,{padding:1,className:Object(o.a)(t)},a.createElement(k,{type:e.type,avatar:e.avatar})),a.createElement(m.a,{display:u.d.Flex,alignItems:u.b.Center,fullWidth:!0},e.children,e.message&&a.createElement(m.a,{padding:{y:1,right:1},fullWidth:!0},a.createElement(O,e.message)))),e.closeButton&&a.createElement(m.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},a.createElement(l.a,{ariaLabel:e.closeButton.ariaLabel,onClick:e.closeButton.onClick,size:c.b.Small,type:c.c.Secondary}))),e.actions&&a.createElement(m.a,{padding:{x:1,bottom:1}},a.createElement(f,e.actions))))};j.displayName="InFeatureNotification",j.defaultProps={background:d.a.Base},j.displayName="InFeatureNotification"},KI4o:function(e,t,n){"use strict";var i=n("mrSG"),r=n("q1tI"),a=n("fvjX"),o=n("/7QA"),s=n("u5aL"),c=n("wUQP"),l=n("DMoW"),u=n("5Z5u"),d=n("LE+Z"),m=n("EgE3"),p=n("sUnt"),h=n("hnjF"),f=n("k0nM"),b=n("ygYM"),E=n("4wKg"),y=(n("SbPP"),function(e){return r.createElement(p.a,{position:h.j.Relative},r.createElement(f.a,{size:b.c.Auto,direction:b.b.BottomRight,show:e.show,offsetX:"4.5rem",offsetY:"-0.5rem"},r.createElement(p.a,{className:"reward-management-links__popover"},e.isBroadcaster&&r.createElement(E.a,{targetBlank:!0,label:Object(o.d)("Manage Rewards","RewardCenterBroadcasterLinks"),linkTo:Object(d.c)(e.channelLogin||"")}),r.createElement(u.a,{channelID:e.channelID,channelLogin:e.channelLogin,uiContext:m.d.RewardSelectionPane}))))}),g=n("YV90"),v=n("OUdD");var C=n("+80q"),k=n("X2PJ"),w=n("b7S+"),S=n("qwRY"),O=n("C7sF"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMenu:!1},t.renderTitle=function(){return r.createElement(p.a,{textAlign:h.l.Center},r.createElement(C.a,{type:C.e.H5,color:k.c.Alt,fontWeight:k.e.SemiBold},t.props.title),t.renderSubtitle())},t.renderSubtitle=function(){if(t.props.activeMultipliers&&t.props.activeMultipliers.length>0){var e=t.props.activeMultipliers.map((function(e){return t.getMultiplierReason(e)})).filter((function(e){return e.length>0})).join(", "),n=Object(o.d)("{multiplier}x Multiplier",{multiplier:(i=t.props.activeMultipliers,a=1,i.forEach((function(e){return a+=e.factor})),a)},"EarnNotice");return e?r.createElement(w.a,{direction:w.c.Top,label:e},r.createElement(C.a,{type:C.e.H6,color:k.c.Alt2},n)):r.createElement(C.a,{type:C.e.H6,color:k.c.Alt2},n)}var i,a;return null},t.getMultiplierReason=function(e){switch(e.reasonCode){case l.W.SUB_T1:return Object(o.d)("Tier 1 Sub","EarnNotice");case l.W.SUB_T2:return Object(o.d)("Tier 2 Sub","EarnNotice");case l.W.SUB_T3:return Object(o.d)("Tier 3 Sub","EarnNotice");default:return""}},t.onBackClicked=function(){t.props.onBackClicked?t.props.onBackClicked():t.props.openReward()},t.toggleMenu=function(){t.setState((function(e){return{showMenu:!e.showMenu}}))},t.hideMenu=function(){t.setState({showMenu:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=!!this.props.currentUserLogin&&this.props.currentUserLogin===this.props.channelLogin,t=this.props.isCurrentUserModerator&&Object(c.c)("copo_full_launch"),n=e||t;return r.createElement(s.a,{onClickOut:this.hideMenu},r.createElement(S.a,{popoverId:"channel-points-reward-center",title:this.renderTitle(),buttonLeftPrimary:this.props.showBackButton||this.props.onBackClicked?{onClick:this.onBackClicked,icon:O.a.AngleLeft}:void 0,buttonRightPrimary:{onClick:this.props.closeRewardCenter,ariaLabel:"Close"},buttonRightSecondary:n?{ariaLabel:Object(o.d)("Reward management options","RewardCenterBroadcasterLinks"),icon:O.a.More,onClick:this.toggleMenu}:void 0}),r.createElement(y,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,isBroadcaster:e,show:this.state.showMenu}))},t}(r.Component);var N=Object(a.d)(Object(v.b)((function(e){return e})),Object(g.a)((function(e){return{channelLogin:e.channelLogin,channelID:e.channelID,isCurrentUserModerator:e.isCurrentUserModerator}})))(j),R=n("/MKj"),_=n("kRBY");var x=Object(R.b)((function(e){var t=Object(_.e)(e);return{currentUserLogin:t&&t.login}}))(N);n.d(t,"a",(function(){return x}))},LDmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),r=n.n(i),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("A5Hy"),l=n("vCsY"),u=n("ygYM"),d=n("hnjF"),m=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(u.a,r()({},Object(l.a)(this.props),{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:!this.props.tail,size:this.props.size?this.props.size:u.c.Large,show:this.props.show,background:this.props.background}),s.createElement(d.g,{display:d.d.Flex,flexDirection:d.e.Column,role:c.c.Dialog,ariaLabelledby:this.props.popoverId+"-header",ariaDescribedby:this.props.popoverId+"-body"},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},this.props.children)))},t}(s.Component);m.displayName="Popover"},Lqow:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("W1jp");function r(e,t){return void 0===t&&(t=!0),t&&(e=e.filter((function(e){return e.isEnabled}))),e.sort((function(e,t){var n=Object(i.b)(e),r=Object(i.b)(t);return n!==r?n-r:e.id<t.id?-1:e.id>t.id?1:0}))}},OvMb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModerationToolsRewardsQueueLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summarizedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCountAtMaximum"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:187}};n.loc.source={body:"query ModerationToolsRewardsQueueLink($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncommunityPointsSettings {\nsummarizedRewards {\ncount\nisCountAtMaximum\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModerationToolsRewardsQueueLink=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ModerationToolsRewardsQueueLink")},PHZH:function(e,t,n){},SbPP:function(e,t,n){},SxLA:function(e,t,n){},U4Oh:function(e,t,n){},WZ3a:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClaimCommunityPoints"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClaimCommunityPointsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimCommunityPoints"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pointsEarnedBaseline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsEarnedTotal"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:223}};n.loc.source={body:"mutation ClaimCommunityPoints($input: ClaimCommunityPointsInput!){\nclaimCommunityPoints(input: $input) {\nclaim {\nid\nmultipliers {\nfactor\nreasonCode\n}\npointsEarnedBaseline\npointsEarnedTotal\n}\ncurrentPoints\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClaimCommunityPoints=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ClaimCommunityPoints")},X6r6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_2x-48e4c30f9a2b0e033f99.png"},"Y/QB":function(e,t,n){},YzXo:function(e,t,n){"use strict";var i=n("mrSG"),r=n("Pw1c"),a=n("q1tI"),o=[];function s(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.addChangeListener=function(e){o.push(e)},e.removeChangeListener=function(e){o=o.filter((function(t){return t!==e}))},e}return Object(i.__extends)(n,t),n.prototype.render=function(){var t={fullscreen:{addChangeListener:this.addChangeListener,removeChangeListener:this.removeChangeListener,supported:this.supported,element:this.element,enable:this.enable,disable:this.disable}};return a.createElement(e,Object(i.__assign)({},t,this.props))},n.prototype.supported=function(){return!!r.enabled},n.prototype.element=function(){return r.element},n.prototype.enable=function(e){r.request(e)},n.prototype.disable=function(){r.exit()},n}(a.Component)}}r.onchange=function(){o.forEach((function(e){e()}))},n.d(t,"a",(function(){return s}))},a10Q:function(e,t,n){},c0GN:function(e,t,n){"use strict";var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("yR8l"),c=n("wUQP"),l=n("sUnt"),u=n("C7sF"),d=n("hnjF"),m=n("+80q"),p=n("X2PJ"),h=n("Jsra"),f=n("4rCz"),b=n("IbuL");!function(e){e.Countdown="earn-rate-item-countdown"}(i||(i={}));var E,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.a,{display:d.d.Flex,justifyContent:d.h.Between,padding:{y:.5},alignItems:d.b.Center},a.createElement(l.a,{display:d.d.Flex,alignItems:d.b.Center},a.createElement(l.a,{display:d.d.Flex,alignItems:d.b.Center,padding:{right:2}},a.createElement(b.a,{asset:this.props.icon})),a.createElement(l.a,null,a.createElement(m.a,null,this.props.title),this.renderAvailabilityCountdown())),a.createElement(m.a,null,this.props.value))},t.prototype.renderAvailabilityCountdown=function(){if(!this.props.availableAt)return null;var e=new Date(this.props.availableAt).valueOf()-Date.now();if(e<=0)return null;var t=Math.floor(e/864e5);return 0===t?a.createElement(m.a,{color:p.c.Alt2,"data-test-selector":i.Countdown},Object(f.d)("Earn again in <x:strong>less than a day</x:strong>",{"x:strong":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"EarnRateItem")):a.createElement(m.a,{color:p.c.Alt2,"data-test-selector":i.Countdown},Object(f.d)("{days, plural, one {Earn again in <x:strong>{days} day</x:strong>} other {Earn again in <x:strong>{days} days</x:strong>}}",{days:t,"x:strong":function(e){return a.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"EarnRateItem"))},t}(a.Component),g=n("p5Bz");!function(e){e.Cheer="earn-rates-cheer",e.SubGift="earn-rates-sub-gift",e.WatchStreak="earn-rates-watch-streak"}(E||(E={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n,i,r,s,f,b,g,v,C,k;if(!this.props.earnRates)return null;var w=this.props.earnRates&&this.props.earnRates.watchStreakPoints,S=null;return w.length>0&&(S=w[w.length-1].points),a.createElement(l.a,{padding:this.props.padding||1},a.createElement(y,{icon:u.a.NavChannels,title:Object(o.d)("Watch for 5 minutes*","EarnRates"),value:"+"+this.props.earnRates.passiveWatchPoints}),a.createElement(y,{icon:u.a.ChannelPointsBonus,title:Object(o.d)("Claim special bonuses*","EarnRates"),value:"+"+this.props.earnRates.claimPoints}),a.createElement(y,{icon:u.a.Raid,title:Object(o.d)("Participate in a Raid","EarnRates"),value:"+"+this.props.earnRates.raidPoints}),a.createElement(y,{icon:u.a.FollowHollow,title:Object(o.d)("Follow this channel","EarnRates"),value:"+"+this.props.earnRates.followPoints}),Object(c.c)("copo_commerce_actions")&&a.createElement(a.Fragment,null,a.createElement(y,{availableAt:null===(s=null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.communityPoints)||void 0===r?void 0:r.limitedEarnings)||void 0===s?void 0:s.cheerAvailableAt,icon:u.a.Bits,title:Object(o.d)("Monthly 1st Cheer","EarnRates"),value:"+"+this.props.earnRates.cheerPoints,"data-test-selector":E.Cheer}),a.createElement(y,{availableAt:null===(k=null===(C=null===(v=null===(g=null===(b=null===(f=this.props.data)||void 0===f?void 0:f.user)||void 0===b?void 0:b.channel)||void 0===g?void 0:g.self)||void 0===v?void 0:v.communityPoints)||void 0===C?void 0:C.limitedEarnings)||void 0===k?void 0:k.subscriptionGiftAvailableAt,icon:u.a.Gift,title:Object(o.d)("Monthly 1st Gift a Sub","EarnRates"),value:"+"+this.props.earnRates.subscriptionGiftPoints,"data-test-selector":E.SubGift})),S&&a.createElement(y,{icon:u.a.GlyphViews,title:Object(o.d)("Grow a watch streak","EarnRates"),value:"up to +"+S,"data-test-selector":E.WatchStreak}),a.createElement(l.a,{padding:{y:2},textAlign:d.l.Center},a.createElement(m.a,{color:p.c.Alt2},Object(o.d)("* Subscribers get a 2x multiplier","EarnRates"))),a.createElement(l.a,{textAlign:d.l.Center},a.createElement(m.a,null,Object(o.d)("<x:learn>Learn More about Channel Points</x:learn>",{"x:learn":function(e){return a.createElement(h.a,{targetBlank:!0,to:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardList"))))},t}(a.Component),C=Object(s.a)(g,{options:function(e){return{fetchPolicy:"cache-and-network",variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin||!Object(c.c)("copo_commerce_actions")}})(v);n.d(t,"a",(function(){return C}))},d8FY:function(e,t,n){},falg:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("fvjX"),c=n("/7QA"),l=n("u5aL"),u=n("1/iK"),d=n("y5D0"),m=n("kRBY"),p=n("YV90"),h=n("OUdD"),f=n("ZS2+"),b=n("0Log"),E=n("/aPz"),y=n("f00E"),g=n("w09P"),v=n("YzXo"),C=n("yR8l"),k=n("eDVu"),w=n("geRD"),S=n("4rCz"),O=n("2xye");!function(e){e.ChatInput="chat_input_box"}(i||(i={}));var j=n("hCFK"),N=n("b7S+"),R=n("dEDE"),_=n("sUnt"),x=n("hnjF"),P=n("IbuL"),D=n("C7sF"),I=n("WZ3a"),T=n("uHaE"),L=(n("U4Oh"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:!1,inProgress:!1},n.onClick=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:if(!(e=this.getClaim()))return S.l.warn("Attempted to use claim without ID."),this.setState({error:!0}),[2];this.setState({inProgress:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.claimCommunityPoints(Object(w.a)({channelID:this.props.channelID,claimID:e.id}))];case 2:return t=a.sent(),this.setState({inProgress:!1}),t.data&&t.data.claimCommunityPoints&&!t.data.claimCommunityPoints.error?(this.props.data.updateQuery((function(e){return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints&&t.data.claimCommunityPoints?g(e,(function(e){return e.community.channel.self.communityPoints}),(function(e){return Object(r.__assign)(Object(r.__assign)({},e),{availableClaim:null,balance:null!==t.data.claimCommunityPoints.currentPoints?t.data.claimCommunityPoints.currentPoints:e.balance})})):(S.l.warn("Failed to nullify cached claim."),e)})),function(e,t){var n=t.claimCommunityPoints&&t.claimCommunityPoints.claim,r=1;n&&(r=n.multipliers.reduce((function(e,t){return e+t.factor}),1));var a={bonus_uuid:n&&n.id||"",channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",points_claimed:n&&n.pointsEarnedBaseline||0,multiplier:r,total_points_claimed:n&&n.pointsEarnedTotal||0,ui_context:i.ChatInput};c.o.track(O.SpadeEventType.ChannelPointsBonusClaim,a)}(this.props.data,t.data),[3,4]):(this.setState({error:!0}),[2]);case 3:return n=a.sent(),S.l.errorAndReport(n,"Point claim failed at the mutation level."),this.setState({error:!0,inProgress:!1}),[3,4];case 4:return[2]}}))}))},n.handleFullscreenChange=function(){n.trackChanges(n.props),n.previousFullscreenElement=n.props.fullscreen.element()},n.previousFullscreenElement=t.fullscreen.element(),t.fullscreen.addChangeListener(n.handleFullscreenChange),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackChanges()},t.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.handleFullscreenChange)},t.prototype.componentDidUpdate=function(e){this.trackChanges(e)},t.prototype.render=function(){var e=this.getClaim(),t=!!e&&!this.props.hidden,n=!!e,i=Object(S.d)("Click to claim a bonus!","CommunityPointsClaimableBonus");return a.createElement(j.a,{type:j.c.Fade,show:t,alwaysRenderChild:!0,transitionInitialMount:!0,duration:j.b.Long},a.createElement(j.a,{type:j.c.SlideOverLeft,show:n,transitionInitialMount:!0,duration:j.b.Long},!this.props.hidden&&a.createElement(N.a,{label:i},a.createElement(R.a,{disabled:this.state.inProgress,onClick:this.onClick,type:this.state.error?R.d.Alert:R.d.Success},a.createElement(_.a,{className:"claimable-bonus__icon",display:x.d.Flex},a.createElement(P.a,{asset:D.a.ChannelPointsBonus}))))))},t.prototype.getClaim=function(e){var t=(e||this.props).data;return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim},t.prototype.trackChanges=function(e){var t,n,r,a=this.getClaim(),o=e&&!!this.getClaim(e);a&&!o&&e&&!e.data.loading&&(t=this.props.data,n=a.id,r={bonus_uuid:n,channel_id:t.community&&t.community.id||"",channel_login:t.community&&t.community.login||""},c.o.track(O.SpadeEventType.ChannelPointsBonusEligible,r));var s=this.props.fullscreen.element(),l=this.props.rightColumnExpanded&&!s,u=e&&e.rightColumnExpanded&&!this.previousFullscreenElement;!a||!l||u&&o||function(e,t){var n={bonus_uuid:t,channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",ui_context:i.ChatInput};c.o.track(O.SpadeEventType.ChannelPointsBonusImpression,n)}(this.props.data,a.id)},t}(a.Component));var F=Object(s.d)(Object(C.a)(T,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(C.a)(I,{name:"claimCommunityPoints"}),Object(k.a)((function(e){return{query:T,variables:{channelID:e.channelID},topic:Object(E.r)(e.currentUserID),type:b.PubsubMessageType.CommunityPointsClaimAvailable,mutator:function(t,n){return t.data.claim.point_gain.channel_id!==e.channelID?n:n.community&&n.community.channel&&n.community.channel.self&&n.community.channel.self.communityPoints?g(n,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return{__typename:"CommunityPointsClaim",id:t.data.claim.id}})):n}}})),Object(k.a)((function(e){return{query:T,variables:{channelID:e.channelID},topic:Object(E.r)(e.currentUserID),type:b.PubsubMessageType.CommunityPointsClaimUsed,mutator:function(e,t){return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim&&t.community.channel.self.communityPoints.availableClaim.id===e.data.claim.id?g(t,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return null})):t}}})),Object(o.b)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded}})),Object(v.a)())(L),A=n("zg3r"),M=n("nAiT"),B=n("Ws8v"),U=n("X2PJ"),W=n("7uM4"),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t=this;switch(this.props.event.point_gain.reason_code){case A.a.CLAIM:case A.a.WATCH:e=4e3;break;default:e=8e3}this.expirationTimer=setTimeout((function(){t.props.onEarnEventExpired()}),e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return a.createElement(N.a,{label:this.tooltipText},a.createElement(B.a,{alignItems:x.b.Center,background:U.a.Accent,borderRadius:U.b.Large,color:U.c.Overlay,display:x.d.Flex,padding:.5},a.createElement(W.a,{asset:this.icon}),"+"+this.props.event.point_gain.total_points))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.point_gain.reason_code){case A.a.CHEER:return D.a.Bits;case A.a.FOLLOW:return D.a.Heart;case A.a.RAID:return D.a.Raid;case A.a.SUB_GIFT:return D.a.Gift;case A.a.WATCH_STREAK:return D.a.GlyphViews;default:return D.a.ChannelPoints}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=Object(S.f)(this.props.event.point_gain.total_points),t=this.props.pointName||Object(M.a)();switch(this.props.event.point_gain.reason_code){case A.a.CHEER:return Object(S.d)("You earned {numPoints} {pointName} for Cheering",{numPoints:e,pointName:t},"EarnNotice");case A.a.FOLLOW:return Object(S.d)("You earned {numPoints} {pointName} for following",{numPoints:e,pointName:t},"EarnNotice");case A.a.RAID:return Object(S.d)("You earned {numPoints} {pointName} for participating in a Raid",{numPoints:e,pointName:t},"EarnNotice");case A.a.SUB_GIFT:return Object(S.d)("You earned {numPoints} {pointName} for gifting a Sub",{numPoints:e,pointName:t},"EarnNotice");case A.a.WATCH_STREAK:return Object(S.d)("You earned {numPoints} {pointName} for your watch streak",{numPoints:e,pointName:t},"EarnNotice");default:return Object(S.d)("You earned {numPoints} {pointName}",{numPoints:e,pointName:t},"EarnNotice")}},enumerable:!0,configurable:!0}),t}(a.Component);var q=Object(p.a)((function(e){return{pointName:e.pointName}}))(Y),V=(n("gjFE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),1500+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return a.createElement(x.g,{className:"float-animation",position:x.j.Absolute},a.createElement("div",{style:{animationDelay:e}},a.createElement(_.a,{className:"float-animation__children-wrapper"},this.props.children)))},t}(a.Component)),G=n("DMoW"),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.expirationTimer=setTimeout((function(){e.props.onMultiplierEventExpired()}),8e3)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return a.createElement(N.a,{label:this.tooltipText},a.createElement(B.a,{alignItems:x.b.Center,background:U.a.Accent,borderRadius:U.b.Large,color:U.c.Overlay,display:x.d.Flex,padding:.5},a.createElement(W.a,{asset:this.icon}),"+"+(1+this.props.event.active_multipliers.multipliers[0].factor)+"X"))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.active_multipliers.multipliers[0].reason_code){case G.W.SUB_T1:case G.W.SUB_T2:case G.W.SUB_T3:default:return D.a.Star}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=1+this.props.event.active_multipliers.multipliers[0].factor,t=this.props.pointName||Object(M.a)();switch(this.props.event.active_multipliers.multipliers[0].reason_code){case G.W.SUB_T1:case G.W.SUB_T2:case G.W.SUB_T3:return Object(S.d)("You are earning {multiplier}x {PointName} for subscribing",{multiplier:e,PointName:t},"MultiplierNotice");default:return Object(S.d)("You are earning {multiplier}x {PointName}",{multiplier:e,PointName:t},"MultiplierNotice")}},enumerable:!0,configurable:!0}),t}(a.Component);var H,Q=Object(p.a)((function(e){return{pointName:e.pointName}}))(z),K=n("A4KW"),X=(n("9VJY"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),400+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return a.createElement("div",{className:"pulse-animation",style:{animationDelay:e}},this.props.children)},t}(a.Component)),J=n("+80q");!function(e){e.AddPoints="add-points",e.MultiplyBonus="multiply-bonus"}(H||(H={}));n("d8FY");function Z(e){switch(void 0===e&&(e=void 0),e){case H.AddPoints:return{explosion:!0,flame:!1,floatingText:!0,iconPulse:!0,earnNotice:!0};case H.MultiplyBonus:return{explosion:!1,flame:!0,floatingText:!0,iconPulse:!0,earnNotice:!0};default:return{explosion:!1,flame:!1,floatingText:!1,iconPulse:!1,earnNotice:!1}}}var $,ee=f.a.wrap((function(){return n.e(74).then(n.bind(null,"CYk5"))}),"FlameAnimation"),te=f.a.wrap((function(){return n.e(73).then(n.bind(null,"ktc1"))}),"ExplodeAnimation");!function(e){e.CommunityPointsSummary="community-points-summary",e.BalanceString="balance-string"}($||($={}));var ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={animationQueue:[],animationKey:Object(y.c)(),isEarnNoticeTransitionShowing:!1,waitingFor:Z()},t.onIconClicked=function(){t.props.isRewardCenterOpen?t.props.closeRewardCenter():t.props.openReward()},t.markSubAnimationComplete=function(e){t.setState((function(t){return function(e){var t=e.animationQueue.length>0,n=Object.values(e.waitingFor).every((function(e){return!1===e}));if(t&&n){var i=e.animationQueue.slice(1);return Object(r.__assign)(Object(r.__assign)({},e),{animationQueue:i,animationKey:Object(y.c)(),isEarnNoticeTransitionShowing:!0,waitingFor:Z(i[0]&&i[0].type)})}return e}(function(e,t){var n;return Object(r.__assign)(Object(r.__assign)({},e),{waitingFor:Object(r.__assign)(Object(r.__assign)({},e.waitingFor),(n={},n[t]=!1,n))})}(t,e))}))},t.handleNoticeExpired=function(){t.setState({isEarnNoticeTransitionShowing:!1})},t.handleEarnNoticeTransitionExit=function(){t.markSubAnimationComplete("earnNotice")},t.handleFlameAnimationComplete=function(){t.markSubAnimationComplete("flame")},t.handleFloatAnimationComplete=function(){t.markSubAnimationComplete("floatingText")},t.handleIconAnimationComplete=function(){t.markSubAnimationComplete("iconPulse")},t.handleExplosionAnimationComplete=function(){t.markSubAnimationComplete("explosion")},t.addAnimationToQueue=function(e){t.setState((function(t){return 0===t.animationQueue.length?Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:[e],isEarnNoticeTransitionShowing:!0,waitingFor:Z(e.type)}):Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:Object(r.__spreadArrays)(t.animationQueue,[e])})}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){if(!this.props.isChannelPointsEnabled)return null;var e=this.state.animationKey,t=this.state.animationQueue[0],n=Object(c.d)("{balance} {pointsName}",{balance:this.getBalanceString(),pointsName:this.props.pointName||Object(M.a)()},"PointsButton");return a.createElement(_.a,{"data-test-selector":$.CommunityPointsSummary,alignItems:x.b.Center,display:x.d.Flex,className:"community-points-summary",fullHeight:!0},a.createElement(ee.Preload,null),a.createElement(te.Preload,null),a.createElement(_.a,{margin:{right:.5},position:x.j.Relative,display:x.d.Flex,alignItems:x.b.Center},a.createElement(_.a,{position:x.j.Absolute,attachTop:!0,attachLeft:!0},this.renderExplosion(t,e)),a.createElement(N.a,{label:n,direction:N.c.Right},a.createElement(R.a,{onClick:this.onIconClicked,type:R.d.Text},a.createElement(_.a,{alignItems:x.b.Center,display:x.d.Flex},a.createElement(_.a,{margin:{right:.5}},this.renderIcon(t,e)),a.createElement(J.a,{"data-test-selector":$.BalanceString,color:U.c.Alt2},this.getBalanceString(!0))))),a.createElement(_.a,{position:x.j.Absolute,attachTop:!0,attachLeft:!0},this.renderFlame(t,e)),a.createElement(_.a,{position:x.j.Relative,zIndex:x.o.Above,attachRight:!0},this.renderFloatText(t,e))),a.createElement(_.a,{fullHeight:!0,position:x.j.Relative,zIndex:x.o.Above},this.props.channelID&&this.props.currentUserID?a.createElement(F,{hidden:void 0!==t,channelID:this.props.channelID,currentUserID:this.props.currentUserID}):null,this.renderNotice(t)))},t.prototype.renderFlame=function(e,t){return void 0===e?null:e.type===H.MultiplyBonus?a.createElement(ee,{offsetX:-6,offsetY:-12,onComplete:this.handleFlameAnimationComplete,key:t}):null},t.prototype.renderExplosion=function(e,t){return void 0===e?null:e.type===H.AddPoints?a.createElement(te,{offsetX:-5,offsetY:-10,onComplete:this.handleExplosionAnimationComplete,key:t}):void 0},t.prototype.renderIcon=function(e,t){if(void 0===e)return a.createElement(K.b,null);switch(e.type){case H.AddPoints:return a.createElement(X,{onComplete:this.handleIconAnimationComplete,delayMs:230,key:t},a.createElement(K.b,null));case H.MultiplyBonus:return a.createElement(X,{onComplete:this.handleIconAnimationComplete,delayMs:1030,key:t},a.createElement(K.b,null));default:return a.createElement(K.b,null)}},t.prototype.renderFloatText=function(e,t){if(void 0===e)return null;switch(e.type){case H.AddPoints:var n=void 0;switch(e.event.point_gain.reason_code){case A.a.CLAIM:case A.a.WATCH:n=4e3;break;default:n=8e3}return a.createElement(V,{delayMs:n,onComplete:this.handleFloatAnimationComplete,key:t},a.createElement(J.a,{bold:!0,fontSize:U.d.Size4,className:"community-points-summary__points-add-text"},Object(c.d)("+{addedPoints}",{addedPoints:e.event.point_gain.total_points},"PointsButton")));case H.MultiplyBonus:return a.createElement(V,{onComplete:this.handleFloatAnimationComplete,delayMs:8e3,key:t},a.createElement(J.a,{bold:!0,fontSize:U.d.Size4,className:"community-points-summary__multiply-bonus-text"},Object(c.d)("{factor}x",{factor:1+e.event.active_multipliers.multipliers[0].factor},"PointsButton")));default:return null}},t.prototype.renderNotice=function(e){var t=null;e&&e.type===H.AddPoints?t=a.createElement(q,{event:e.event,onEarnEventExpired:this.handleNoticeExpired}):e&&e.type===H.MultiplyBonus&&(t=a.createElement(Q,{event:e.event,onMultiplierEventExpired:this.handleNoticeExpired}));var n=this.state.isEarnNoticeTransitionShowing&&!!t;return a.createElement(j.a,{duration:j.b.Long,onExitComplete:this.handleEarnNoticeTransitionExit,show:n,transitionInitialMount:!0,type:j.c.Fade},a.createElement(j.a,{duration:j.b.Long,show:n,transitionInitialMount:!0,type:j.c.SlideOverLeft},a.createElement(_.a,{attachLeft:!0,fullHeight:!0},t)))},t.prototype.subscribe=function(){var e=this;this.props.currentUserID&&(this.unsubscribe=c.l.subscribe({topic:Object(E.r)(this.props.currentUserID),onMessage:function(t){t.type!==b.PubsubMessageType.CommunityPointsEarned&&t.type!==b.PubsubMessageType.CommunityPointsMultipliersUpdated||(t.data.point_gain&&e.props.channelID===t.data.point_gain.channel_id||t.data.active_multipliers&&e.props.channelID===t.data.active_multipliers.channel_id)&&(t.data.point_gain?t.data.point_gain.reason_code!==A.a.REFUND&&e.addAnimationToQueue({type:H.AddPoints,event:t.data}):t.data.active_multipliers&&e.addAnimationToQueue({type:H.MultiplyBonus,event:t.data}))}}))},t.prototype.getBalanceString=function(e){return this.props.balance===1/0?String.fromCharCode(8734):e?Object(c.g)(this.props.balance,{maximumFractionDigits:1,round:Math.floor}):Object(c.f)(this.props.balance)},t}(a.Component);var ie=Object(s.d)(Object(o.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id}})),Object(p.a)((function(e){return{balance:e.balance,channelID:e.channelID,isChannelPointsEnabled:e.isChannelPointsEnabled,pointName:e.pointName}})),Object(h.b)((function(e){return e})))(ne),re=n("VaVM"),ae=n("LDmb"),oe=n("ygYM"),se=n("+l4d"),ce=n("79s7"),le=function(e){return a.createElement(_.a,{display:x.d.Flex,flexDirection:x.e.Column,alignItems:x.b.Center,flexGrow:1},a.createElement(x.g,{alignSelf:x.c.Start},a.createElement(J.a,null,e.message)),a.createElement(_.a,{flexGrow:1,display:x.d.Flex,flexDirection:x.e.Column,justifyContent:x.h.Center},e.children),a.createElement(_.a,{padding:{y:1}},e.button))},ue=n("KI4o"),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(ue.a,{showBackButton:!0,title:this.props.errorStateTitle}),a.createElement(ce.a,null,a.createElement(le,{message:this.props.errorStateText,button:a.createElement(R.a,{onClick:this.props.onButtonClick},this.props.buttonText)},this.props.errorStateImg)))},t}(a.Component),me=n("a1OF"),pe=n("uG/k"),he=(n("PHZH"),{id:"426170",token:"PartyPopper"}),fe={id:"28087",token:"WutFace"},be=function(e){var t=e.emote;return a.createElement(pe.a,{className:"large-emote",srcSet:{"1x":Object(me.d)(t.id,2),"2x":Object(me.d)(t.id,4)},src:Object(me.d)(t.id,2),alt:t.token})},Ee=n("W1jp"),ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotItMessage=function(){return Object(c.d)("Got it!","AlreadySubbedRewardCenter")},t.onUnlockEmoteButtonClick=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.onSendSubMessageButtonClick=function(){t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(Ee.e)(this.props.reward),n="",i=null,r="",o=null;switch(this.props.reward.type){case G.U.CHOSEN_SUB_EMOTE_UNLOCK:case G.U.RANDOM_SUB_EMOTE_UNLOCK:n=Object(c.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=a.createElement(be,{emote:he}),r=Object(c.d)("Open Emote Picker","AlreadySubbedRewardCenter"),o=this.onUnlockEmoteButtonClick;break;case G.U.SINGLE_MESSAGE_BYPASS_SUB_MODE:n=Object(c.d)("You are already subscribed to {streamerName}! Send messages in Subscriber-Only Chat as much as you want to. Your points were not used.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=a.createElement(be,{emote:he}),r=this.gotItMessage(),o=this.onSendSubMessageButtonClick;break;default:t=Object(c.d)("Reward","AlreadySubbedRewardCenter"),n=Object(c.d)("You are already subscribed to {streamerName}!",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=a.createElement(be,{emote:he}),r=this.gotItMessage(),o=function(){return e.props.closeRewardCenter()}}return a.createElement(de,{errorStateTitle:t,errorStateText:n,errorStateImg:i,buttonText:r,onButtonClick:o})},t}(a.Component);var ge,ve=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})),Object(se.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(ye),Ce=n("B30r"),ke=n("GsKU"),we=n("1/wt"),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e;return e="CommunityPointsUnlockEmoteError"===this.props.error.__typename?Object(Ce.e)(this.props.error.code,this.props.onTryAgain):"RedeemCommunityPointsCustomRewardError"===this.props.error.__typename?Object(Ce.a)(this.props.error.code):Object(Ce.d)(),a.createElement(ke.a,{background:U.a.Alt2,type:we.a.Error},a.createElement(B.a,{margin:{right:.5,y:.5}},e))},t}(a.Component);!function(e){e.RequiredPoints="RequiredPoints",e.RewardText="RewardText"}(ge||(ge={}));var Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={buttonState:R.c.Default,error:!1},t.onClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.onClick?(this.setState({buttonState:R.c.Loading}),[4,this.props.onClick()]):[2];case 1:return e=t.sent(),this.setState({buttonState:e?R.c.Success:R.c.Default,error:!e}),[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.cost>this.props.balance;return a.createElement(R.a,{onClick:this.onClick,state:this.state.buttonState,type:this.state.error?R.d.Alert:R.d.Primary,disabled:this.props.disabled||e},a.createElement(_.a,{display:x.d.Flex,flexDirection:x.e.Row},!e&&a.createElement(J.a,{"data-test-selector":ge.RewardText},this.props.text),a.createElement(_.a,{padding:{x:.5}},a.createElement(K.b,null)),Object(S.f)(this.props.cost),a.createElement(_.a,{padding:{left:.5},"data-test-selector":ge.RequiredPoints},e&&Object(c.d)("Required","SpendPointsButton"))))},t}(a.Component);var je=Object(s.d)(Object(p.a)((function(e){return{balance:e.balance}})))(Oe),Ne=n("IQZc"),Re=n("g+79"),_e=n("OOag"),xe=n("EgE3"),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.onClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.props.channelID?[4,Object(_e.b)(this.props.channelID,this.props.reward,this.props.transactionID)]:[2,!1];case 1:return(e=n.sent()).data&&e.data.redeemCommunityPointsCustomReward?(t=e.data.redeemCommunityPointsCustomReward.error)&&t.code?(this.setState({error:{__typename:t.__typename,code:t.code}}),[2,!1]):(Object(xe.h)({channelID:this.props.channelID,channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.props.closeRewardCenter(),[2,!0]):(this.setState({error:{__typename:"RedeemCommunityPointsCustomRewardErrorCode",code:G.pc.FORBIDDEN}}),[2,!1])}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(ue.a,{showBackButton:!0,title:this.props.reward.title}),a.createElement(ce.a,null,a.createElement(le,{message:this.props.reward.prompt||"",button:this.state.error?a.createElement(Se,{error:this.state.error,onTryAgain:function(){return e.props.openReward()}}):a.createElement(Ne.a,{renderOnInitiallyOutOfStock:this.renderOutOfStockButton(),renderOnRequirementsChange:this.renderRequirementsChangedNotice(),renderOnStockChange:this.renderOutOfStockNotice(),reward:this.props.reward},a.createElement(je,{cost:Object(Ee.b)(this.props.reward),onClick:this.onClick,text:Object(c.d)("Redeem","CustomRewardCheckout")}))},a.createElement(Re.a,{data:this.props.reward,size:Re.b.Large}))))},t.prototype.renderOutOfStockButton=function(){return a.createElement(R.a,{disabled:!0},Object(c.d)("Out of stock! Check back later.","CustomRewardCheckout"))},t.prototype.renderOutOfStockNotice=function(){var e=this;return a.createElement(ke.a,{type:we.a.Error},a.createElement(_.a,null,Object(M.b)((function(){return e.props.openReward()}))))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(ke.a,{type:we.a.Error},a.createElement(_.a,null,Object(M.d)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward()}))))},t}(a.Component),De=n("c0GN"),Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(Ee.e)(this.props.reward),t="",n="",i=a.createElement(Re.a,{size:Re.b.Medium,data:this.props.reward});if("CommunityPointsCustomReward"===this.props.reward.__typename)t=this.props.reward.prompt||"";else switch(this.props.reward.type){case G.U.SINGLE_MESSAGE_BYPASS_SUB_MODE:t=Object(Ee.c)(this.props.reward)||this.getDefaultErrorText(),n=Object(c.d)("Send a Message","InsufficientPointsState");break;case G.U.SEND_HIGHLIGHTED_MESSAGE:t=Object(Ee.c)(this.props.reward)||this.getDefaultErrorText(),n=Object(c.d)("Highlight Message","InsufficientPointsState");break;default:t=this.getDefaultErrorText(),n=Object(c.d)("Required","InsufficientPointsState")}return a.createElement(a.Fragment,null,a.createElement(ue.a,{showBackButton:!0,title:e}),a.createElement(ce.a,null,a.createElement(le,{message:t,button:a.createElement(je,{text:n,cost:Object(Ee.b)(this.props.reward),disabled:!0})},i)))},t.prototype.getDefaultErrorText=function(){return Object(c.d)("You don't have enough points for this reward!","InsufficientPointsState")},t}(a.Component);var Te=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(Ie),Le=n("RS58"),Fe=n("dGMd"),Ae=n("hQNN");function Me(e){var t=e.currentUser,n=new Set;return t&&t.emoteSets&&t.emoteSets.forEach((function(e){var t=e.emotes;t&&t.forEach((function(e){e&&e.id&&n.add(e.id)}))})),n}function Be(e,t){return e.filter((function(e){return!t.has(e.id)}))}var Ue=n("XQbB"),We=n("HSpZ"),Ye=n("TSYQ"),qe=n("/0dD"),Ve=n("XDQu"),Ge=n("i4Ys"),ze=(n("ltdn"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.modification.id)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.modification,n=e.selected,i=function(e){var t=e.modification,n=e.theme;if(e.selected)return t.modifierIconLight;return n===qe.a.Dark?t.modifierIconLight:t.modifierIconDark}(this.props),r=Ye({"select-emote-modification-button":!0,"select-emote-modification-button--selected":!!n});return a.createElement(B.a,{background:U.a.Base,display:x.d.Flex,fullWidth:!0},a.createElement(Ge.a,{type:Ge.b.Alpha,onClick:this.handleClick,disabled:this.props.disabled},a.createElement(B.a,{className:r,display:x.d.Flex,justifyContent:x.h.Center,alignItems:x.b.Center,borderRadius:U.b.Medium,border:!0},a.createElement(pe.a,{srcSet:{"1x":i.url,"2x":i.url2x,"4x":i.url4x},src:i.url,alt:t.title}))))},t}(a.Component));var He,Qe=Object(o.b)((function(e){return{theme:Object(Ve.a)(e)}}))(ze);!function(e){e.DisplayedToken="modify-emote-preview-step-presentation__displayed-token"}(He||(He={}));var Ke=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEmotePreview=function(e){var t=e.displayedEmote;return a.createElement(a.Fragment,null,a.createElement(_.a,null,a.createElement(be,{emote:t})),a.createElement(x.g,{padding:{y:.5}},a.createElement(J.a,{fontSize:U.d.Size5,bold:!0,"data-test-selector":He.DisplayedToken},t.token)))},t.renderModificationButtons=function(e){var n=e.availableModifications,i=e.selectedModification;return a.createElement(_.a,{display:x.d.Flex,flexWrap:x.f.Wrap,justifyContent:x.h.Center},n.map((function(e){var n=!(!i||i.id!==e.id);return a.createElement(_.a,{padding:{x:.5,bottom:.5},key:e.id},a.createElement(N.a,{label:e.title},a.createElement(Qe,{modification:e,selected:n,onClick:t.handleModifierSelect,disabled:e.owned})))})))},t.renderPurchaseButton=function(e){var n=e.reward,i=e.selectedModification;return a.createElement(_.a,{padding:{top:2}},t.props.error?a.createElement(Se,{error:t.props.error,onTryAgain:function(){return t.props.goToRewardsList()}}):a.createElement(Ne.a,{renderOnRequirementsChange:t.renderRequirementsChangedNotice(),reward:t.props.reward},a.createElement(je,{cost:Object(Ee.b)(n),onClick:t.handleCheckoutClick,text:Object(c.d)("Unlock","ModifyEmotePreviewStep"),disabled:null===i})))},t.handleCheckoutClick=function(){return Object(r.__awaiter)(t,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return this.props.selectedModification?[2,this.props.onCheckoutClick(this.props.selectedModification.emote)]:[2,!1]}))}))},t.handleModifierSelect=function(e){t.props.onModificationSelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(_.a,{display:x.d.Flex,flexDirection:x.e.Column,flexGrow:1},a.createElement(J.a,null,Object(c.d)("Edit and preview your emote:","ModifyEmotePreviewStepPresentation")),a.createElement(_.a,{flexGrow:1,display:x.d.Flex,flexDirection:x.e.Column,alignItems:x.b.Center,justifyContent:x.h.Center,margin:{top:3,bottom:1}},this.renderEmotePreview(this.props),this.renderModificationButtons(this.props),this.renderPurchaseButton(this.props)))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(ke.a,{type:we.a.Error},a.createElement(_.a,null,Object(M.d)(this.props.streamerName,(function(){return e.props.goToRewardsList()}))))},t}(a.Component),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedModificationId:null},t.logger=c.p.logger.withCategory("ModifyEmotePreviewStep"),t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t.handleModificationSelect=function(e){t.setState({selectedModificationId:e})},t.handleCheckoutConfirm=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:t=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.onRedeemClick(e)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),t=!1,this.logger.warn("Failed to redeem emote modification reward"),[3,4];case 4:return[2,t]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.selectedEmoteVariant,i=t.ownedEmoteIds;if(!function(e,t){var n=e.isUnlockable,i=e.modifications,r=e.emote;return!(!t.has(r.id)&&!n)&&Be(i,t).length>0}(n,i))return a.createElement(le,{message:Object(c.d)("Youve already unlocked all versions of this emote! Check them out in your emote picker.","ModifyEmotesPreviewStep"),button:a.createElement(R.a,{onClick:this.handleOpenEmotePickerClick},Object(c.d)("Open Emote Picker","ModifyEmotePreviewStep"))},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(pe.a,{srcSet:{"1x":Object(me.d)("426170",2),"2x":Object(me.d)("426170",4)},src:Object(me.d)("426170",2),alt:Object(c.d)("All versions modified","ModifyEmoteSelectStep")})));var o=n.modifications.find((function(t){return t.id===e.state.selectedModificationId})),s=o?o.emote:n.emote,l=n.modifications.map((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{owned:i.has(e.id)})}));return a.createElement(Ke,{availableModifications:l,displayedEmote:s,error:this.props.error,goToRewardsList:this.props.goToRewardsList,onCheckoutClick:this.handleCheckoutConfirm,onModificationSelect:this.handleModificationSelect,reward:this.props.reward,selectedModification:o||null,streamerName:this.props.streamerName})},t}(a.Component),Je=n("7SjK"),Ze=n("3Law"),$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filterString:""},t.handleSearchInputChange=function(e){t.setState({filterString:e.currentTarget.value})},t.handleClickEmote=function(e){t.props.onEmoteSelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(_.a,{display:x.d.Flex,flexDirection:x.e.Column},this.props.description,a.createElement(_.a,{padding:{top:.5}},a.createElement(Ze.a,{placeholder:Object(c.d)("Search for emotes","SelectEmoteMenu"),value:this.state.filterString,onChange:this.handleSearchInputChange})),a.createElement(_.a,{padding:{top:.5,bottom:3}},this.renderEmotes()))},t.prototype.renderEmotes=function(){var e=this.state.filterString,t=function(e,t){var n=t.toLowerCase();return e.filter((function(e){return[e.displayName,e.token].some((function(e){return e.toLowerCase().includes(n)}))}))}(this.props.emotes,e);return 0===t.length&&e.length>0?a.createElement(J.a,{bold:!0},Object(c.d)('No Search Results for "{filterString}"',{filterString:e},"SelectEmoteMenu")):a.createElement(Je.a,{emotes:t,onClickEmote:this.handleClickEmote,spaced:!0})},t}(a.Component);var et,tt=n("OpME"),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEmoteSelect=function(e){t.props.onEmoteSelected(e)},t.handleCloseRewardClick=function(){t.props.onCloseRewardClick()},t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.ownedEmoteIds,t=function(e,t){return e.filter((function(e){return e.isUnlockable||t.has(e.id)}))}(this.props.emoteVariants,e);if(0===this.props.emoteVariants.length||0===t.length)return a.createElement(le,{message:Object(c.d)("What?! This streamer doesn't have any emotes to unlock. Your points were not used. Try again later.","ModifyEmoteSelectStep"),button:a.createElement(R.a,{onClick:this.handleCloseRewardClick},Object(c.d)("Got it!","ModifyEmoteSelectStep"))},a.createElement(pe.a,{srcSet:{"1x":Object(me.d)("28087",2),"2x":Object(me.d)("28087",4)},src:Object(me.d)("28087",2),alt:Object(c.d)("No emotes to unlock","ModifyEmoteSelectStep")}));if(t.every((function(t){return 0===Be(t.modifications,e).length})))return a.createElement(le,{message:Object(c.d)("You already have this channel's emotes unlocked! Check them out in your emote picker.","ModifyEmoteSelectStep"),button:a.createElement(R.a,{onClick:this.handleOpenEmotePickerClick},Object(c.d)("Open Emote Picker","ModifyEmoteSelectStep"))},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(pe.a,{srcSet:{"1x":Object(me.d)("426170",2),"2x":Object(me.d)("426170",4)},src:Object(me.d)("426170",2),alt:Object(c.d)("All emotes owned","ModifyEmoteSelectStep")})));var n=Object(tt.b)(t.map((function(e){return e.emote})));return a.createElement($e,{description:Object(c.d)("Select an emote to modify & unlock for 24 hours:","ModifyEmoteCheckout"),emotes:n,onEmoteSelect:this.handleEmoteSelect})},t}(a.Component),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleShareClick=function(){t.props.onShare(t.props.emote)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.emote;return a.createElement(_.a,{display:x.d.Flex,flexGrow:1,flexDirection:x.e.Column},a.createElement(J.a,null,Object(c.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","ModifyEmoteSuccessStep")),a.createElement(_.a,{flexGrow:1,display:x.d.Flex,flexDirection:x.e.Column,alignItems:x.b.Center,justifyContent:x.h.Center,margin:{top:3,bottom:1}},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(be,{emote:e})),a.createElement(x.g,{padding:{y:.5}},a.createElement(J.a,{fontSize:U.d.Size5,bold:!0},e.token)),a.createElement(_.a,{padding:{top:2}},a.createElement(R.a,{onClick:this.handleShareClick},Object(c.d)("Share Your New Emote","ModifyEmoteSuccessStep")))))},t}(a.Component);!function(e){e.SelectEmote="select-emote",e.Preview="preview",e.Success="success"}(et||(et={}));var rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={step:{type:et.SelectEmote},selectedEmoteId:null},t.logger=c.p.logger.withCategory("ModifyEmoteCheckout"),t.renderBody=function(e,n){if(n.data.loading)return a.createElement(_.a,{display:x.d.Flex,flexGrow:1,justifyContent:x.h.Center,alignItems:x.b.Center},a.createElement(Ue.a,null));if(n.data.error)return null;var i=Me(n.data);switch(e.type){case et.Preview:return t.renderPreviewBody(e,i);case et.Success:return t.renderSuccessBody(e);case et.SelectEmote:default:return t.renderSelectEmoteBody(i)}},t.renderSelectEmoteBody=function(e){return a.createElement(nt,{emoteVariants:t.props.emoteVariants,ownedEmoteIds:e,onEmoteSelected:t.handleEmoteSelect,onOpenEmotePickerClick:t.openEmotePicker,onCloseRewardClick:t.handleCloseRewardClick})},t.renderPreviewBody=function(e,n){return a.createElement(Xe,{error:t.state.error,goToRewardsList:function(){return t.props.openReward()},onOpenEmotePickerClick:t.openEmotePicker,onRedeemClick:t.handleRedeemClick,ownedEmoteIds:n,reward:t.props.reward,selectedEmoteVariant:e.selectedEmoteVariant,streamerName:t.props.displayName||t.props.channelLogin})},t.renderSuccessBody=function(e){return a.createElement(it,{emote:e.emote,onShare:t.handleShare})},t.handleEmoteSelect=function(e){var n=t.props.emoteVariants.find((function(t){return t.emote.id===e.id}));void 0!==n?t.setStep({type:et.Preview,selectedEmoteVariant:n}):t.logger.debug("Can't find emote variant with ID "+e.id)},t.setStep=function(e){t.setState({step:e})},t.handleCloseRewardClick=function(){t.props.closeRewardCenter()},t.openEmotePicker=function(){t.props.showEmotePicker(),t.props.closeRewardCenter()},t.handleBackClicked=function(){switch(t.state.step.type){case et.Preview:t.setState({step:{type:et.SelectEmote}});break;case et.Success:t.props.openReward(t.props.reward);break;default:t.props.openReward()}},t.handleRedeemClick=function(e){return Object(r.__awaiter)(t,void 0,Promise,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return this.props.channelID&&this.state.step.type===et.Preview?[4,Object(Fe.d)(this.props.channelID,this.props.reward,e.id,this.props.transactionID)]:[2,!1];case 1:return t=i.sent(),(n=t.data)&&n.unlockChosenModifiedSubscriberEmote?n.unlockChosenModifiedSubscriberEmote.error?(this.setState({error:n.unlockChosenModifiedSubscriberEmote.error}),[2,!1]):(Object(Fe.f)(e),Object(xe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.setStep({type:et.Success,emote:e}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:G.X.UNKNOWN}}),[2,!1])}}))}))},t.handleShare=function(e){var n=Object(Fe.b)({reward:t.props.reward,inputValue:e.token});t.props.setTray(n),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(ue.a,{title:Object(Ee.e)(this.props.reward),onBackClicked:this.handleBackClicked,showBackButton:!0}),a.createElement(ce.a,null,this.renderBody(this.state.step,this.props)))},t}(a.Component);var at=Object(s.d)(Object(C.a)(Ae),Object(p.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}})),Object(Le.b)((function(e){return{setTray:e.setTray}})),Object(se.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(rt),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(ue.a,{showBackButton:!0,title:Object(Ee.e)(this.props.reward)}),a.createElement(ce.a,null,a.createElement(le,{message:Object(c.d)("This reward is only available when Subscriber-Only mode is enabled.","RewardCenter"),button:a.createElement(R.a,{onClick:function(){return e.props.closeRewardCenter()}},Object(c.d)("Got It!","RewardCenter"))},a.createElement(Re.a,{size:Re.b.Medium,data:this.props.reward}))))},t}(a.Component);var st=Object(s.d)(Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(ot),ct=n("hoKo"),lt=n.n(ct),ut=n("gwKQ"),dt=n.n(ut),mt=n("Jsra"),pt=(n("8APF"),function(e){var t=Object(S.d)("Rewards","RewardCenterOnboarding");return e.channelDisplayName&&(t=Object(S.d)("{name}'s Rewards",{name:e.channelDisplayName},"RewardCenterOnboarding")),a.createElement(a.Fragment,null,a.createElement(ue.a,{title:t}),a.createElement(ce.a,null,a.createElement(_.a,{alignItems:x.b.Center,justifyContent:x.h.Center,position:x.j.Relative,textAlign:x.l.Center,padding:{x:4,y:1}},a.createElement(_.a,{position:x.j.Relative},a.createElement(pe.a,{alt:Object(S.d)("Background","RewardCenterOnboarding"),className:"channel-points-onboarding__background",src:lt.a}),a.createElement(pe.a,{alt:Object(S.d)("Channel Points Icon","RewardCenterOnboarding"),className:"channel-points-onboarding__orb",src:dt.a})),a.createElement(x.g,{margin:{top:.5}},a.createElement(J.a,{bold:!0,fontSize:U.d.Size5},Object(S.d)("Introducing Channel Points!","RewardCenterOnboarding"))),a.createElement(J.a,null,Object(S.d)("Watch {channelDisplayName}. Earn {pointName}. Unlock Rewards! <x:learn>Learn More</x:learn>",{channelDisplayName:e.channelDisplayName||"",pointName:e.pointName,"x:learn":function(e){return a.createElement(mt.a,{targetBlank:!0,to:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardCenterOnboarding")),a.createElement(_.a,{margin:{top:2,bottom:1}},a.createElement(R.a,{onClick:e.onDismiss},Object(S.d)("Get Started!","RewardCenterOnboarding"))))))}),ht=(n("Y/QB"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.data&&t.props.openReward(t.props.data)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(_.a,{className:"reward-list-item",margin:{bottom:1}},a.createElement(_.a,{textAlign:x.l.Center},a.createElement(Ge.a,{borderRadius:U.b.Medium,onClick:this.onClick},a.createElement(Re.a,{data:this.props.data,showCost:!0,size:Re.b.Large})),a.createElement(_.a,{padding:{top:.5}},a.createElement(J.a,{fontSize:U.d.Size7,lines:2,ellipsis:!0,wordBreak:J.g.BreakWord},Object(Ee.e)(this.props.data)))))},t}(a.Component)),ft=Object(s.d)(Object(h.b)((function(e){return e})))(ht),bt=n("Lqow"),Et=(n("SxLA"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={sortedRewards:[]},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t=Object(r.__spreadArrays)(e.automaticRewards,e.customRewards);return{sortedRewards:Object(bt.a)(t)}},t.prototype.render=function(){var e=Object(S.d)("Rewards","RewardsList"),t=this.props.displayName||this.props.channelLogin;t&&(e=Object(S.d)("{name}'s Rewards",{name:t},"RewardsList"));var n=this.state.sortedRewards.map((function(e){return a.createElement(ft,{key:e.id,data:e})}));return a.createElement(a.Fragment,null,a.createElement(ue.a,{title:e,activeMultipliers:this.props.activeMultipliers}),a.createElement(ce.a,null,this.renderRewardCenterBody(n,t)))},t.prototype.renderRewardCenterBody=function(e,t){var n=this,i=Object(S.d)("Sorry! This streamer has disabled their rewards. Don't worry, you're still earning {pointName}!",{pointName:this.props.pointName||Object(M.a)()},"RewardsListDisabled");return t&&(i=Object(S.d)("Sorry! {name} has disabled their rewards. Don't worry, you're still earning {pointName}!",{name:t,pointName:this.props.pointName||Object(M.a)()},"RewardsListDisabled")),e.length>0?a.createElement(_.a,{display:x.d.Flex,flexWrap:x.f.Wrap,padding:{bottom:1},className:"rewards-list"},e,a.createElement(_.a,{fullWidth:!0,display:x.d.Flex,alignItems:x.b.Center,justifyContent:x.h.Center},a.createElement(R.a,{size:R.b.Small,type:R.d.Secondary,onClick:function(){return n.props.openEarnRatesList()}},a.createElement(_.a,{display:x.d.Flex,alignItems:x.b.Center},a.createElement(_.a,{padding:{right:1}},a.createElement(K.b,{iconSize:K.a.Small})),Object(S.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(M.a)()},"RewardsListEarnButton"))))):a.createElement(le,{message:i,button:a.createElement(R.a,{onClick:this.props.closeRewardCenter},Object(S.d)("Got it!","RewardsListDisabledButton"))},a.createElement(be,{emote:fe}))},t}(a.Component));var yt,gt,vt=Object(s.d)(Object(p.a)((function(e){return{automaticRewards:e.automaticRewards,channelLogin:e.channelLogin,customRewards:e.customRewards,displayName:e.displayName,activeMultipliers:e.activeMultipliers,pointName:e.pointName}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openEarnRatesList:e.openEarnRatesList}})))(Et);!function(e){e.ShareEmoteButton="share-new-emote-button",e.NoEmotesAvailable="no-emotes-available",e.NoEmotesToUnlock="no-emotes-to-unlock"}(yt||(yt={})),function(e){e[e.SelectEmote=0]="SelectEmote",e[e.Checkout=1]="Checkout",e[e.Redeemed=2]="Redeemed"}(gt||(gt={}));var Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1,step:gt.SelectEmote},t.renderBody=function(e,n){if(n.data.loading)return a.createElement(_.a,{display:x.d.Flex,flexGrow:1,justifyContent:x.h.Center,alignItems:x.b.Center},a.createElement(Ue.a,null));if(n.data.error)return null;var i=Me(n.data),r=Object(tt.b)(t.props.emoteVariants.filter((function(e){return e.isUnlockable&&!i.has(e.id)})).map((function(e){return e.emote})));if(0===t.props.emoteVariants.length)return t.renderNoEmotesAvailable();if(0===r.length&&t.state.step!==gt.Redeemed)return t.renderNoEmotesToUnlock();switch(e){case gt.Checkout:return t.renderCheckout();case gt.Redeemed:return t.renderSuccessfulCheckout();case gt.SelectEmote:default:return t.renderSelectEmote(r)}},t.openEmotePicker=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.onBackClicked=function(){switch(t.state.step){case gt.Checkout:return void t.setState({step:gt.SelectEmote});case gt.Redeemed:return void t.props.openReward(t.props.reward);case gt.SelectEmote:default:return void t.props.openReward()}},t.handleCloseRewardClick=function(){t.props.closeRewardCenter()},t.selectEmote=function(e){t.setState({selectedEmote:e,step:gt.Checkout})},t.onRedeemClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID&&this.state.selectedEmote?[4,Object(Fe.c)(this.props.channelID,this.props.reward,this.state.selectedEmote.id,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockChosenSubscriberEmote?e.data.unlockChosenSubscriberEmote.error?(this.setState({error:e.data.unlockChosenSubscriberEmote.error}),[2,!1]):(Object(Fe.f)(this.state.selectedEmote),this.setState({step:gt.Redeemed}),Object(xe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:G.X.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(Fe.b)({reward:t.props.reward,inputValue:t.state.selectedEmote?t.state.selectedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(ue.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(Ee.e)(this.props.reward)}),a.createElement(ce.a,null,this.renderBody(this.state.step,this.props)))},t.prototype.renderNoEmotesAvailable=function(){var e=Object(c.d)("What?! This streamer doesn't have any emotes to unlock. Your points were not used. Try again later.","UnlockSubscriberEmoteCheckout");return this.props.displayName&&(e=Object(c.d)("What?! {streamerName} doesn't have any emotes to unlock. Your points were not used. Try again later.",{streamerName:this.props.displayName},"UnlockSubscriberEmoteCheckout")),a.createElement(le,{message:e,button:a.createElement(R.a,{onClick:this.handleCloseRewardClick},Object(c.d)("Got it!","UnlockSubscriberEmoteCheckout")),"data-test-selector":yt.NoEmotesAvailable},a.createElement(be,{emote:fe}))},t.prototype.renderNoEmotesToUnlock=function(){var e=Object(c.d)("You already have this streamer's emotes unlocked! Check them out in your emote picker.","UnlockSubscriberEmoteCheckout");return this.props.displayName&&(e=Object(c.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName},"UnlockSubscriberEmoteCheckout")),a.createElement(le,{message:e,button:a.createElement(R.a,{onClick:this.openEmotePicker},Object(c.d)("Open Emote Picker","UnlockSubscriberEmoteCheckout")),"data-test-selector":yt.NoEmotesToUnlock},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(be,{emote:he})))},t.prototype.renderSelectEmote=function(e){return a.createElement($e,{emotes:e,onEmoteSelect:this.selectEmote,description:Object(Ee.c)(this.props.reward)||void 0})},t.prototype.renderCheckout=function(){var e=this;return a.createElement(le,{message:Object(c.d)("Is this the emote you want? If so, unlock it below!","UnlockSubscriberEmoteCheckout"),button:this.state.error?a.createElement(Se,{error:this.state.error,onTryAgain:function(){return e.props.openReward()}}):a.createElement(Ne.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},a.createElement(je,{cost:Object(Ee.b)(this.props.reward),onClick:this.onRedeemClick,text:Object(c.d)("Unlock","UnlockSubscriberEmoteCheckout")})),"data-test-selector":yt.NoEmotesAvailable},this.state.selectedEmote&&a.createElement(_.a,{textAlign:x.l.Center},a.createElement(be,{emote:this.state.selectedEmote}),a.createElement(_.a,{margin:{top:.5}},a.createElement(J.a,{bold:!0,fontSize:U.d.Size5},this.state.selectedEmote.token))))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(ke.a,{type:we.a.Error},a.createElement(_.a,null,Object(M.d)(this.props.displayName||this.props.channelLogin,(function(){return e.props.openReward()}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(c.d)("Congratulations! You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockSubscriberEmoteCheckout");return this.state.selectedEmote&&(e=Object(c.d)("Congratulations! You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.selectedEmote.token},"UnlockSubscriberEmoteCheckout")),a.createElement(le,{message:e,button:a.createElement(R.a,{"data-test-selector":yt.ShareEmoteButton,onClick:this.onShareClick},Object(c.d)("Share Your Emote","UnlockSubscriberEmoteCheckout")),"data-test-selector":yt.NoEmotesToUnlock},this.state.selectedEmote&&a.createElement(_.a,{textAlign:x.l.Center},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(be,{emote:this.state.selectedEmote})),a.createElement(_.a,{margin:{top:.5}},a.createElement(J.a,{bold:!0,fontSize:U.d.Size5},this.state.selectedEmote.token))))},t}(a.Component);var kt,wt=Object(s.d)(Object(C.a)(Ae),Object(Le.b)((function(e){return{setTray:e.setTray}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}})),Object(p.a)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(se.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(Ct),St=n("pTc6"),Ot=n.n(St),jt=n("X6r6"),Nt=n.n(jt),Rt=n("ji5J"),_t=n.n(Rt);!function(e){e.CheckoutSuccessStep="checkout-success-step"}(kt||(kt={}));var xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1},t.onBackClicked=function(){t.state.redeemed?t.props.openReward(t.props.reward):t.props.openReward()},t.onRedeemClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID?[4,Object(Fe.e)(this.props.channelID,this.props.reward,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockRandomSubscriberEmote&&e.data.unlockRandomSubscriberEmote.emote?e.data.unlockRandomSubscriberEmote.error?(this.setState({error:e.data.unlockRandomSubscriberEmote.error}),[2,!1]):(Object(Fe.f)(e.data.unlockRandomSubscriberEmote.emote),this.setState({unlockedEmote:e.data.unlockRandomSubscriberEmote.emote,redeemed:!0}),Object(xe.h)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:G.X.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(Fe.b)({reward:t.props.reward,inputValue:t.state.unlockedEmote?t.state.unlockedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(ue.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(Ee.e)(this.props.reward)}),a.createElement(ce.a,null,this.state.redeemed?this.renderSuccessfulCheckout():this.renderCheckoutState()))},t.prototype.renderCheckoutState=function(){var e=this;return a.createElement(le,{message:Object(c.d)("{streamerName} has {emoteCount} unlockable emotes. Click below to unlock one random emote to chat with for 24 hours!",{streamerName:this.props.channelDisplayName||"",emoteCount:this.props.emoteVariants.filter((function(e){return e.isUnlockable})).length},"UnlockRandomEmoteCheckout"),button:this.state.error?a.createElement(Se,{error:this.state.error,onTryAgain:function(){return e.props.openReward()}}):a.createElement(Ne.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},a.createElement(je,{cost:Object(Ee.b)(this.props.reward),onClick:this.onRedeemClick,text:Object(c.d)("Unlock a Random Emote","UnlockRandomEmoteCheckout")}))},a.createElement(pe.a,{alt:Object(c.d)("Unlock a random emote artwork","UnlockRandomEmoteCheckout"),src:Ot.a,srcSet:{"1x":Ot.a,"2x":Nt.a,"4x":_t.a}}))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return a.createElement(ke.a,{type:we.a.Error},a.createElement(_.a,null,Object(M.d)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward()}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(c.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockRandomEmoteCheckout");return this.state.unlockedEmote&&(e=Object(c.d)("You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.unlockedEmote.token},"UnlockRandomEmoteCheckout")),a.createElement(le,{message:e,button:a.createElement(R.a,{onClick:this.onShareClick,"data-test-selector":kt.CheckoutSuccessStep},Object(c.d)("Share Your New Emote","UnlockRandomEmoteCheckout"))},this.state.unlockedEmote&&a.createElement(_.a,{textAlign:x.l.Center},a.createElement(We.a,{type:We.f.Bounce,duration:We.c.Long,enabled:!0,loop:!0},a.createElement(be,{emote:this.state.unlockedEmote})),a.createElement(_.a,{margin:{top:.5}},a.createElement(J.a,{bold:!0,fontSize:U.d.Size5},this.state.unlockedEmote.token))))},t}(a.Component);var Pt=Object(s.d)(Object(Le.b)((function(e){return{setTray:e.setTray}})),Object(h.b)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}})),Object(p.a)((function(e){return{emoteVariants:e.emoteVariants}})))(xt),Dt=(n("nx6a"),"channelPointsOnboardingDismissed"),It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={onboardingDismissed:c.m.get(Dt,!1)},t.onClickOut=function(){t.props.closeRewardCenter()},t.dismissOnboarding=function(){t.setState({onboardingDismissed:!0}),c.m.set(Dt,!0)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){c.m.get("channelPointsShouldOpenRewardCenter",!1)&&(c.m.remove("channelPointsShouldOpenRewardCenter"),this.props.openReward())},t.prototype.render=function(){return a.createElement(l.a,{onClickOut:this.onClickOut},a.createElement(ie,null),this.props.isRewardCenterOpen&&a.createElement(ae.a,{popoverId:"channel-points-reward-center",direction:oe.b.TopLeft,size:oe.c.Auto,show:this.props.isRewardCenterOpen,maxHeight:"32rem"},a.createElement(_.a,{display:x.d.Flex,flexDirection:x.e.Column,className:"reward-center__content"},this.renderChild())))},t.prototype.renderChild=function(){if(!this.state.onboardingDismissed)return a.createElement(pt,{channelDisplayName:this.props.displayName||this.props.channelLogin,pointName:this.props.pointName||Object(M.a)(),onDismiss:this.dismissOnboarding});switch(this.props.rewardCenterState.type){case re.a.CustomReward:return a.createElement(Pe,{channelDisplayName:this.props.displayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeRewardCenter:this.props.closeRewardCenter,openReward:this.props.openReward,reward:this.props.rewardCenterState.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID});case re.a.UnlockRandomEmote:return a.createElement(Pt,{key:this.props.transactionID,channelDisplayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,reward:this.props.rewardCenterState.reward});case re.a.UnlockChosenSubscriberEmote:return a.createElement(wt,{key:this.props.transactionID,channelID:this.props.channelID,reward:this.props.rewardCenterState.reward});case re.a.ModifyEmote:return a.createElement(at,{key:this.props.transactionID,reward:this.props.rewardCenterState.reward,channelID:this.props.channelID});case re.a.AlreadySubbed:return a.createElement(ve,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin});case re.a.NotSubOnlyMode:return a.createElement(st,{reward:this.props.rewardCenterState.reward});case re.a.NotEnoughPoints:return a.createElement(Te,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID});case re.a.NotLoggedIn:this.handleLogin();break;case re.a.NotSubbed:break;case re.a.EarnRates:return a.createElement(a.Fragment,null,a.createElement(ue.a,{showBackButton:!0,title:Object(c.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(M.a)()},"EarnRatesState")}),a.createElement(ce.a,null,a.createElement(De.a,{channelLogin:this.props.channelLogin,earnRates:this.props.earning,padding:{x:2}})));case re.a.ListRewards:default:return a.createElement(vt,null)}},t.prototype.handleLogin=function(){var e={targetChannel:this.props.channelLogin,showContext:!0,onComplete:function(){c.m.set("channelPointsShouldOpenRewardCenter",!0)}};this.props.login(e)},t}(a.Component);var Tt=Object(s.d)(Object(o.b)(null,(function(e){return Object(s.b)({login:function(e){return Object(d.e)(u.a.ChannelPoints,e)}},e)})),Object(p.a)((function(e){return{channelID:e.channelID,channelLogin:e.channelLogin,displayName:e.displayName,pointName:e.pointName,earning:e.earning}})),Object(h.b)((function(e){return e})))(It);n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_ONBOARDING_KEY",(function(){return Dt})),n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_REWARD_CENTER_OPEN_KEY",(function(){return"channelPointsShouldOpenRewardCenter"})),n.d(t,"RewardCenterComponent",(function(){return It})),n.d(t,"RewardCenter",(function(){return Tt}))},gjFE:function(e,t,n){},gwKQ:function(e,t,n){e.exports=n.p+"assets/orb_colorful-b79ba34a5ba00330df52.png"},hCFK:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var i,r,a,o=n("pVnL"),s=n.n(o),c=n("lSNA"),l=n.n(c),u=n("VbXa"),d=n.n(u),m=n("q1tI"),p=n("fNzW"),h=n("vCsY");n("AaQW");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}!function(e){e.Fade="fade",e.TranslateRight="translate-right",e.TranslateLeft="translate-left",e.TranslateTop="translate-top",e.TranslateBottom="translate-bottom",e.ScaleOver="scale-over",e.SlideOverRight="slide-over-right",e.SlideOverLeft="slide-over-left",e.SlideOverTop="slide-over-top",e.SlideOverBottom="slide-over-bottom"}(r||(r={})),function(e){e.Short="duration-short",e.Medium="duration-medium",e.Long="duration-long"}(a||(a={}));var b,E=((i={})[a.Short]=100,i[a.Medium]=250,i[a.Long]=300,i);!function(e){e.enter="enter-prep",e.entering="enter-active",e.entered="enter-done",e.exit="exit-prep",e.exiting="exit-active",e.exited="exit-done"}(b||(b={}));var y=function(e){function t(t){var n;return(n=e.call(this,t)||this).getDuration=function(){return n.props.duration||a.Medium},n.onEnterComplete=function(){n.setState({status:b.entered}),n.props.onEnterComplete&&n.props.onEnterComplete()},n.onExitComplete=function(){n.setState({status:b.exited}),n.props.onExitComplete&&n.props.onExitComplete()},n.refHanlder=function(e){if(n.containerRef=e,n.props.injectChild){var t=m.Children.only(n.props.children).ref;"function"==typeof t&&t(e)}},n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.state={status:t.show&&!t.transitionInitialMount?b.entered:b.exited},n}d()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,i=t.status,r=b;return n&&i===r.exited?{status:r.enter}:n&&i===r.exiting?{status:r.entering}:n||i!==r.entered?n||i!==r.entering?null:{status:r.exiting}:{status:r.exit}};var n=t.prototype;return n.componentDidMount=function(){this.props.transitionInitialMount&&this.props.show&&this.setState({status:b.enter})},n.componentWillUnmount=function(){clearTimeout(this.transitionTimer)},n.componentDidUpdate=function(e,t){var n=b;this.state.status===n.enter?(this.ensureLayoutReflow(),this.setState({status:n.entering})):this.state.status===n.exit?(this.ensureLayoutReflow(),this.setState({status:n.exiting})):this.state.status===n.entering&&t.status!==n.entering?(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onEnterComplete,E[this.getDuration()])):this.state.status===n.exiting&&t.status!==n.exiting&&(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onExitComplete,E[this.getDuration()]))},n.render=function(){var e=this.state.status;if(this.state.status===b.exited&&!this.props.alwaysRenderChild)return null;var t,n=[b.enter,b.entering,b.entered].includes(e),i=["tw-transition","tw-transition__"+(t=Array.isArray(this.props.type)?n?this.props.type[0]:this.props.type[1]:this.props.type),"tw-transition__"+t+"--"+e,"tw-transition--"+e,"tw-transition--"+this.getDuration()];if(this.props.injectChild&&m.isValidElement(this.props.children)){var r=m.Children.only(this.props.children);return m.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.props,{},Object(h.a)(this.props),{ref:this.refHanlder,className:Object(p.a)(this.props.className,r.props.className,i)}))}return m.createElement("div",s()({ref:this.refHanlder,className:Object(p.a)(this.props.className,i)},Object(h.a)(this.props)),this.props.children)},t}(m.Component);y.displayName="Transition"},hQNN:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModifyEmoteOwnedEmotes"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:82}};n.loc.source={body:"query ModifyEmoteOwnedEmotes {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModifyEmoteOwnedEmotes=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ModifyEmoteOwnedEmotes")},hoKo:function(e,t,n){e.exports=n.p+"assets/orb_background-38c0df0967a556d270cd.png"},ji5J:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_4x-f44661b71a7d0cb4ce43.png"},ltdn:function(e,t,n){},maHM:function(e,t,n){},n4RV:function(e,t,n){},nx6a:function(e,t,n){},p5Bz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsAvailableEarns"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limitedEarnings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerAvailableAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftAvailableAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:207}};n.loc.source={body:"query ChannelPointsAvailableEarns($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\nself {\ncommunityPoints {\nlimitedEarnings {\nid\ncheerAvailableAt\nsubscriptionGiftAvailableAt\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPointsAvailableEarns=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPointsAvailableEarns")},pTc6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout-f97bd78a03eb2d11f107.png"},qwRY:function(e,t,n){"use strict";var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("vCsY"),s=n("7d/q"),c=n("uKd/"),l=n("hnjF"),u=n("X2PJ"),d=n("sUnt"),m=n("Ws8v"),p=n("2Ob2"),h=n("b7S+"),f=n("+80q"),b=function(e){var t=e.title,n=e.subtitle;return a.createElement(a.Fragment,null,a.createElement(u.f,{textAlign:l.l.Center,fontWeight:u.e.SemiBold},a.createElement(f.a,{type:f.e.H5,color:e.overlay?u.c.Overlay:u.c.Alt},t)),n?a.createElement(l.g,{textAlign:l.l.Center},a.createElement(f.a,{type:f.e.H6,color:e.overlay?u.c.OverlayAlt:u.c.Alt2},n)):null)};b.displayName="PopoverTitle";var E=Object(p.c)(b);n("FM5L");n.d(t,"a",(function(){return v}));var y=function(e){var t,n=e.buttonLeftPrimary||e.buttonLeftSecondary,i=e.buttonLeftPrimary&&e.buttonLeftSecondary,s=e.buttonRightPrimary||e.buttonRightSecondary,c=e.buttonRightPrimary&&e.buttonRightSecondary;return a.createElement(m.a,r()({},Object(o.a)(e),{className:"tw-popover-header",color:e.overlay?u.c.Overlay:u.c.Base,borderRadius:{topLeft:u.b.Medium,topRight:u.b.Medium},elevation:1,padding:{y:.5,x:1},display:l.d.Flex,flexShrink:0}),n||s?a.createElement(d.a,{display:l.d.Flex,flexDirection:l.e.Column,justifyContent:l.h.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},g(n)):null,i||c?a.createElement(d.a,{display:l.d.Flex,flexDirection:l.e.Column,justifyContent:l.h.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},g(i)):null,a.createElement(l.g,{flexGrow:1,justifyContent:l.h.Center,alignItems:l.b.Center,flexDirection:l.e.Column,display:l.d.Flex},a.createElement("div",{id:e.popoverId+"-header"},(t=e.title)&&t.hasOwnProperty("title")?a.createElement(E,{title:e.title.title,subtitle:e.title.subtitle}):e.title)),i||c?a.createElement(d.a,{display:l.d.Flex,flexDirection:l.e.Column,justifyContent:l.h.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},g(c)):null,n||s?a.createElement(d.a,{display:l.d.Flex,flexDirection:l.e.Column,justifyContent:l.h.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},g(s,!0)):null)};function g(e,t){if(void 0===t&&(t=!1),!e)return null;var n=t?a.createElement(c.a,r()({},e,{type:s.c.Secondary,title:void 0})):a.createElement(s.a,r()({},e,{type:s.c.Secondary,title:void 0}));return e.title?a.createElement(h.a,{label:e.title,align:h.b.Center,direction:h.c.Bottom},n):n}y.displayName="PopoverHeaderComponent",y.displayName="PopoverHeader";var v=Object(p.c)(y)},uHaE:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsAvailableClaim"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]}]}}]}}],loc:{start:0,end:315}};i.loc.source={body:'#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\nquery CommunityPointsAvailableClaim($channelID: ID!) {\ncommunity: user(id: $channelID) {\nid\nlogin\n...availableClaimFragment\n...communityPointsBalanceFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("hgww").definitions)),i.definitions=i.definitions.concat(a(n("VIQE").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.CommunityPointsAvailableClaim=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPointsAvailableClaim")},zg3r:function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.CHEER="CHEER",e.CLAIM="CLAIM",e.FOLLOW="FOLLOW",e.PRIME_SUB="PRIME_SUB",e.RAID="RAID",e.REFUND="REFUND",e.SUB_GIFT="SUB_GIFT",e.WATCH="WATCH",e.WATCH_STREAK="WATCH_STREAK"}(i||(i={})),function(e){e.ACTION_TAKEN="ACTION_TAKEN",e.CANCELED="CANCELED",e.FULFILLED="FULFILLED",e.REPORTED="REPORTED",e.UNFULFILLED="UNFULFILLED"}(r||(r={}))}}]);